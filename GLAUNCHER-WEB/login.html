<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLauncher - Iniciar Sesión</title>
    <link rel="icon" type="image/png" href="images/glauncher logo.png">
    <link rel="stylesheet" href="css/login-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css"> 
    <style>
        /* Estilos para el autocompletado de usuarios */
        .suggestions-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: rgba(10, 10, 20, 0.95);
            border: 1px solid var(--neon-blue);
            border-top: none;
            border-radius: 0 0 10px 10px;
            z-index: 100;
            max-height: 150px;
            overflow-y: auto;
            box-shadow: 0 4px 15px rgba(0, 243, 255, 0.2);
        }
        .suggestion-item {
            padding: 10px 15px;
            cursor: pointer;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background 0.2s;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .suggestion-item:last-child { border-bottom: none; }
        .suggestion-item:hover {
            background: rgba(0, 243, 255, 0.15);
        }
        .suggestion-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            object-fit: cover;
        }
    </style>
</head>
<body>

    <!-- Spinner de Carga, Notificaciones y Pantalla Offline -->
    <div id="loader-overlay" class="loader-overlay"><div class="spinner"></div></div>
    <div id="notification-container"></div>
    <div id="offline-overlay" class="offline-overlay"><div class="offline-content"><i class="fas fa-wifi"></i><h2>Sin Conexión</h2><p>Revisa tu red e inténtalo de nuevo.</p></div></div>

    <header class="header">
        <div class="logo-container">
            <img src="images/glauncher logo.png" alt="Logo de GLauncher" class="logo">
            <h1>GLauncher</h1>
        </div>
        <nav class="auth-buttons">
            <a href="radio.html" class="auth-button">Radio</a> 
            <a href="index.html" class="auth-button">Inicio</a> 
            <a href="noticias.html" class="auth-button">Noticias</a>
            <a href="download.html" class="auth-button">Descargas</a>
            <a href="dashboard.html" class="auth-button">Dashboard</a>
            <a href="login.html" class="auth-button active">Iniciar Sesión</a>
            <a href="register.html" class="auth-button">Registrar</a>
            <a href="https://www.youtube.com/@DaniCraftYT25" target="_blank" class="auth-button youtube-button" title="Visita mi canal de YouTube">
                <i class="fab fa-youtube"></i> Canal
            </a>
        </nav>
    </header>

    <main class="main-content">
        <div class="auth-container">
            <h2><i class="fas fa-sign-in-alt"></i> Acceso a GLauncher</h2>
            
            <form id="login-form">
                
                <div id="credentials-section">
                    <div class="form-group">
                        <input type="text" id="username_login" name="username" class="neon-input-field" placeholder=" " required>
                        <label for="username_login"><i class="fas fa-user"></i> Usuario</label>
                    </div>
                    
                    <div class="form-group" style="position: relative;">
                        <input type="password" id="password_login" name="password" class="neon-input-field" placeholder=" " required>
                        <label for="password_login"><i class="fas fa-key"></i> Contraseña</label>
                        <i class="fas fa-eye password-toggle" id="toggle-password-login" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #ccc; z-index: 10;"></i>
                    </div>
                    
                    <div class="form-group" style="text-align: right; margin-top: -10px; margin-bottom: 20px;">
                        <a href="#" id="forgot-password-link" class="neon-hover-text" style="font-size: 0.9em;">¿Olvidaste tu contraseña?</a>
                    </div>

                    <button type="submit" class="auth-button-action" style="background-color: var(--neon-pink); box-shadow: var(--shadow-pink);">
                        <i class="fas fa-chevron-right"></i> Continuar
                    </button>
                </div>
                
                <div id="code-entry-section" style="display: none;">
                    <p class="code-flow-info">
                        <i class="fas fa-shield-alt text-neon-pink"></i> Por tu seguridad, ingresa el código que creaste al registrarte.
                    </p>
                    <div class="form-group">
                        <input type="text" id="security-code" name="code" class="neon-input-field" placeholder=" " maxlength="6" autocomplete="off" required>
                        <label for="security-code"><i class="fas fa-keypad"></i> Código de Seguridad</label>
                    </div>
                    
                    <button type="button" id="verify-code-button" class="auth-button-action" style="background-color: var(--neon-blue); box-shadow: var(--shadow-blue);">
                        Verificar y Acceder
                    </button>
                    
                    <a href="#" id="go-back-login" class="neon-hover-text" style="display: block; margin-top: 15px;">Volver</a>
                </div>

            </form>
            
            <!-- Formulario de Recuperación de Contraseña (Oculto por defecto) -->
            <form id="reset-password-form" style="display: none;">
                <h3 style="color: var(--neon-blue); margin-bottom: 15px; text-align: center;">Recuperar Cuenta</h3>
                
                <div class="form-group" style="position: relative;">
                    <input type="text" id="reset-username" class="neon-input-field" placeholder=" " required autocomplete="off">
                    <label for="reset-username"><i class="fas fa-user"></i> Tu Usuario</label>
                    <div id="reset-username-suggestions" class="suggestions-dropdown" style="display: none;"></div>
                </div>

                <div class="form-group">
                    <input type="text" id="reset-security-code" class="neon-input-field" placeholder=" " maxlength="6" required>
                    <label for="reset-security-code"><i class="fas fa-keypad"></i> Código de Seguridad</label>
                </div>

                <div class="form-group" style="position: relative;">
                    <input type="password" id="reset-new-password" class="neon-input-field" placeholder=" " required>
                    <label for="reset-new-password"><i class="fas fa-lock"></i> Nueva Contraseña</label>
                    <i class="fas fa-eye password-toggle" id="toggle-reset-password" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #ccc; z-index: 10;"></i>
                </div>

                <button type="submit" class="auth-button-action" style="background-color: var(--neon-blue); box-shadow: var(--shadow-blue);">Restablecer</button>
                <a href="#" id="cancel-reset-link" class="neon-hover-text" style="display: block; margin-top: 15px; text-align: center;">Cancelar</a>
            </form>

            <div class="social-login-options">
                <p class="social-login-divider"><span>O inicia sesión con</span></p>
                <a href="https://glauncher-api.onrender.com/login/google" role="button" class="social-login-button google" title="Google"><i class="fab fa-google"></i></a>
                <a href="https://glauncher-api.onrender.com/login/microsoft" role="button" class="social-login-button microsoft" title="Microsoft"><i class="fab fa-microsoft"></i></a>
            </div>
            
            <p class="auth-footer-text">
                ¿Aún no tienes cuenta? <a href="register.html" class="neon-hover-text">¡Regístrate ahora!</a>
            </p>
        </div>
    </main>

    <footer class="footer">
        <p>GLauncher &copy; 2025. Todos los derechos reservados.</p>
        <p>Desarrollador Principal: <a href="https://www.youtube.com/@DaniCraftYT25" target="_blank" class="neon-hover-text">DaniCraftYT25</a></p>
    </footer>

    <!-- Barra de Navegación Inferior (Solo para Móviles) -->
    <nav class="bottom-nav">
        <a href="index.html"><i class="fas fa-home"></i><span>Inicio</span></a>
        <a href="radio.html"><i class="fas fa-broadcast-tower"></i><span>Radio</span></a>
        <a href="noticias.html"><i class="fas fa-newspaper"></i><span>Noticias</span></a>
        <a href="download.html"><i class="fas fa-download"></i><span>Descargas</span></a>
        <a href="login.html" class="active"><i class="fas fa-user-circle"></i><span>Perfil</span></a>
    </nav>

    <!-- Banner de Consentimiento de Cookies -->
    <div id="cookie-banner" class="cookie-consent-banner">
        <p class="cookie-text">
            Utilizamos cookies para mejorar tu experiencia en nuestro sitio. Al continuar, aceptas nuestro uso de cookies. <a href="privacy-policy.html">Leer más</a>.
        </p>
        <button id="accept-cookie-btn" class="auth-button-action cookie-accept-btn" style="background-color: var(--neon-green); box-shadow: var(--shadow-green);">Aceptar</button>
    </div>

    <script src="js/global-script.js"></script>
    <!-- Script específico para la página de login -->
    <script src="js/login-script.js"></script>
</body>
</html>